{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\PROJETOS\\\\ELEVA\\\\liv-portfolio-front\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { forwardRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../utils/services/file/file.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../directives/drag-drop-file-upload.directive\";\nimport * as i4 from \"angular-svg-icon\";\n\nfunction UploadMediaInputComponent_section_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"section\", 3)(1, \"div\", 4);\n    i0.ɵɵlistener(\"click\", function UploadMediaInputComponent_section_1_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n\n      const _r3 = i0.ɵɵreference(9);\n\n      return _r3.click();\n    })(\"fileDropped\", function UploadMediaInputComponent_section_1_Template_div_fileDropped_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.upload($event);\n    });\n    i0.ɵɵelementStart(2, \"div\", 5);\n    i0.ɵɵelement(3, \"svg-icon\", 6);\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Arraste e solte seus arquivos aqui.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\");\n    i0.ɵɵtext(7, \"Formatos suspanortados: JPEG, PNG e GIF\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"input\", 7, 8);\n    i0.ɵɵlistener(\"change\", function UploadMediaInputComponent_section_1_Template_input_change_8_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.upload($event.target[\"files\"]);\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction UploadMediaInputComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function UploadMediaInputComponent_ng_template_2_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.removePicture();\n    });\n    i0.ɵɵelement(2, \"svg-icon\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"img\", 12);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", ctx_r2.base64, i0.ɵɵsanitizeUrl);\n  }\n}\n\nexport let UploadMediaInputComponent = /*#__PURE__*/(() => {\n  class UploadMediaInputComponent {\n    constructor(fileService) {\n      this.fileService = fileService;\n\n      this.onChangeCb = () => {};\n\n      this.onTouchedCb = () => {};\n    }\n\n    get file() {\n      return this._file;\n    }\n\n    set file(value) {\n      if (value !== this.file) {\n        this._file = value;\n        this.onChangeCb(value);\n      }\n    }\n\n    get base64() {\n      return this._base64;\n    }\n\n    writeValue(file) {\n      this.file = file;\n    }\n\n    registerOnChange(fn) {\n      this.onChangeCb = fn;\n    }\n\n    registerOnTouched(fn) {\n      this.onTouchedCb = fn;\n    }\n\n    upload(files) {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        const [file] = files;\n        _this.file = file;\n        _this._base64 = yield _this.fileService.base64Encode(_this.file);\n      })();\n    }\n\n    removePicture() {\n      this.file = null;\n      this._base64 = null;\n    }\n\n  }\n\n  UploadMediaInputComponent.ɵfac = function UploadMediaInputComponent_Factory(t) {\n    return new (t || UploadMediaInputComponent)(i0.ɵɵdirectiveInject(i1.FileService));\n  };\n\n  UploadMediaInputComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UploadMediaInputComponent,\n    selectors: [[\"liv-upload-media-input\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => UploadMediaInputComponent),\n      multi: true\n    }])],\n    decls: 4,\n    vars: 2,\n    consts: [[1, \"upload-file-content\"], [\"class\", \"upload-file\", 4, \"ngIf\", \"ngIfElse\"], [\"showAvatar\", \"\"], [1, \"upload-file\"], [\"livDragDropFileUpload\", \"\", 1, \"dropzone\", 3, \"click\", \"fileDropped\"], [1, \"dropzone__info\"], [\"src\", \"assets/icons/gallery.svg\"], [\"type\", \"file\", \"name\", \"picture\", \"accept\", \"image/png,image/jpeg,image/gif\", \"hidden\", \"\", 3, \"change\"], [\"fileField\", \"\"], [1, \"picture-content\"], [1, \"picture-content__trashButton\", 3, \"click\"], [\"src\", \"assets/icons/trash.svg\", \"svgClass\", \"picture-content__trashButton__icon\"], [\"alt\", \"\", 3, \"src\"]],\n    template: function UploadMediaInputComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, UploadMediaInputComponent_section_1_Template, 10, 0, \"section\", 1);\n        i0.ɵɵtemplate(2, UploadMediaInputComponent_ng_template_2_Template, 4, 1, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(3);\n\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.file)(\"ngIfElse\", _r1);\n      }\n    },\n    directives: [i2.NgIf, i3.DragDropFileUploadDirective, i4.SvgIconComponent],\n    styles: [\"[_nghost-%COMP%]{width:100%;max-width:768px}.upload-file-content[_ngcontent-%COMP%]{width:100%;position:relative}.dropzone[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#fff;width:100%;height:260px;cursor:pointer;border:1.5px dashed #4c338a;border-radius:.375rem;transition:.2s ease-in-out}.dropzone__info[_ngcontent-%COMP%]{height:100%;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.5rem}.dropzone__info[_ngcontent-%COMP%]   svg-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#4c338a}.dropzone__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-weight:500;font-style:normal;font-size:.875rem;line-height:1.2;color:#2d2a34;margin-block:.25rem 0}@media (min-width: 768px){.dropzone__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.dropzone__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dropzone__info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#60636e}.dropzone[_ngcontent-%COMP%]:hover{border-color:#60636e}.picture-content[_ngcontent-%COMP%]{display:flex;position:relative;width:100%;min-width:16.25rem;height:16.25rem;background-color:#fffc;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border-radius:.375rem;overflow:hidden}.picture-content__trashButton[_ngcontent-%COMP%]{position:absolute;right:16px;top:16px;display:flex;align-items:center;justify-content:center;align-self:flex-end;padding:.5rem;line-height:0;border-radius:9999px;background-color:#fff;box-shadow:0 4px 4px #00000040}.picture-content__trashButton__icon[_ngcontent-%COMP%]{fill:#f03738;width:16px;height:16px;transition:.2s ease}.picture-content__trashButton[_ngcontent-%COMP%]:hover   .picture-content__trashButton__icon[_ngcontent-%COMP%]{fill:#8a0a0a}.picture-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%}\"]\n  });\n  return UploadMediaInputComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}